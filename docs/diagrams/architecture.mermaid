graph TB
    subgraph Frontend["Frontend Layer"]
        FE["Frontend<br/>React + TypeScript<br/>:8090"]
        NGINX["Nginx<br/>Reverse Proxy"]
    end
    
    subgraph Gateway["API Gateway"]
        BE["Backend Service<br/>FastAPI<br/>:8080"]
    end
    
    subgraph Services["Business Services"]
        RAG["RAG Service<br/>ChromaDB + Embeddings<br/>:8082"]
        LOG["Logging Service<br/>Analytics & Logs<br/>:8002"]
    end
    
    subgraph AI["AI/ML Layer"]
        LLM["vLLM Service<br/>Language Model<br/>:8000"]
        EMB["Embedding Service<br/>Vector Embeddings<br/>:8001"]
    end
    
    subgraph Monitor["Monitoring"]The mermaid graph isnt working
        PROM["Prometheus<br/>Metrics<br/>:9090"]
        GRAF["Grafana<br/>Dashboards<br/>:3000"]
        ALERT["Alertmanager<br/>:9093"]
    end
    
    subgraph Storage["Storage"]
        CHROMA[("ChromaDB<br/>Vector Store")]
        FILES[("File System<br/>Documents")]
        LOGS_DB[("Log Files<br/>CSV/JSON")]
        SQLITE[("SQLite<br/>Sessions")]
    end
    
    %% Frontend connections
    FE --> NGINX
    NGINX --> BE
    
    %% Backend connections
    BE --> RAG
    BE --> LOG
    BE --> LLM
    
    %% Service connections
    RAG --> EMB
    RAG --> CHROMA
    RAG --> FILES
    LOG --> LOGS_DB
    BE --> SQLITE
    
    %% Monitoring connections
    BE --> PROM
    RAG --> PROM
    LOG --> PROM
    PROM --> GRAF
    PROM --> ALERT
    
    %% Styling
    classDef frontend fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef backend fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef ai fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef storage fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef monitoring fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    
    class FE,NGINX frontend
    class BE,RAG,LOG backend
    class LLM,EMB ai
    class CHROMA,FILES,LOGS_DB,SQLITE storage
    class PROM,GRAF,ALERT monitoring
