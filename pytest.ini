[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

markers =
    unit: Unit tests
    integration: Integration tests
    e2e: End-to-end tests
    infrastructure: Infrastructure tests using testinfra

# Environment variables for testing
env =
    VLLM_URL=http://localhost:8000
    VLLM_EMBEDDING_URL=http://localhost:8001
    BASE_CHROMA_PATH=tests/test_chroma
    BASE_DATA_PATH=tests/test_data

# Coverage configuration
[coverage:run]
branch = True
source = app

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    raise NotImplementedError
    if __name__ == "__main__":
