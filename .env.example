# Variables de entorno para configuración del chatbot
# Copiar este archivo a .env y configurar con tus valores

# ========================================
# MODELOS Y AI
# ========================================
MODEL_NAME="Sreenington/Phi-3-mini-4k-instruct-AWQ"
MODEL_DIR="/models/Sreenington--Phi-3-mini-4k-instruct-AWQ"
EMBEDDING_MODEL_DIR="/models/Qwen--Qwen3-Embedding-0.6B"

# ========================================
# SERVICIOS INTERNOS
# ========================================
VLLM_URL="http://vllm-openai:8000"
VLLM_EMBEDDING_URL="http://vllm-openai-embeddings:8001"

# ========================================
# STORAGE
# ========================================
BASE_CHROMA_PATH="chroma"
BASE_LOG_DIR="logs"
BASE_DATA_PATH="data"
BASE_TEMPLATES_DIR="templates"

# ========================================
# API KEYS
# ========================================
# Requerido para descargar modelos de Hugging Face
HF_TOKEN="your_huggingface_token_here"

# Opcional - para usar Gemini API
GEMINI_API_KEY="your_gemini_api_key_here"

# ========================================
# LTI / MOODLE INTEGRATION (Opcional)
# ========================================
# Solo necesario si integras con Moodle via LTI 1.3

# URL de tu instancia Moodle (sin trailing slash)
MOODLE_ISSUER="https://your-moodle.example.com"

# URL del endpoint de autenticación OIDC de Moodle
MOODLE_AUTH_LOGIN_URL="https://your-moodle.example.com/mod/lti/auth.php"

# URL del endpoint JWKS de Moodle para validación de tokens
MOODLE_JWKS_URL="https://your-moodle.example.com/mod/lti/certs.php"

# Client ID generado por Moodle al registrar la herramienta externa
MOODLE_CLIENT_ID="your_client_id_from_moodle"

# URL base del chatbot (debe ser HTTPS en producción)
# Usar Cloudflare Tunnel, Let's Encrypt, o servicio con SSL
CHATBOT_BASE_URL="https://your-chatbot-domain.example.com"

# URL del frontend (normalmente igual que CHATBOT_BASE_URL)
FRONTEND_URL="https://your-chatbot-domain.example.com"

# Directorio con configuración LTI (claves RSA)
LTI_CONFIG_DIR="./lti_config"

# ========================================
# MONGODB (User Service)
# ========================================
# URL de conexión a MongoDB para gestión de usuarios
USER_SERVICE_URL="http://user-service:8083"
MONGO_URI="mongodb://mongodb:27017"
MONGO_DB_NAME="chatbot_users"

# ========================================
# RATE LIMITING
# ========================================
# Límite de requests por usuario por minuto
RATE_LIMIT_PER_MINUTE=20

# ========================================
# DEVELOPMENT
# ========================================
# Modo debug (true/false)
DEBUG=false

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ========================================
# NOTES
# ========================================
# - Para desarrollo local sin LTI, solo necesitas HF_TOKEN
# - Para integración con Moodle, configura toda la sección LTI
# - CHATBOT_BASE_URL debe ser HTTPS si usas Moodle (requerimiento LTI 1.3)
# - Genera HF_TOKEN en https://huggingface.co/settings/tokens
